<div class="row">
  <div class="col-4">
      <div class="mdc-tab-bar mb-3" role="tablist" aria-label="Navigation">
          <div class="mdc-tab-scroller">
              <div class="mdc-tab-scroller__scroll-area">
                  <div class="mdc-tab-scroller__scroll-content">
                      <button (click)="toggleToggle()" class="mdc-tab" [class.mdc-tab--active]="toggle === 1" role="tab" aria-selected="true" tabindex="0">
                          <span class="mdc-tab__content">
                              <span class="mdc-tab__text-label">Sales Comments</span>
                          </span>
                          <span class="mdc-tab-indicator" [class.mdc-tab-indicator--active]="toggle === 1">
                              <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                          </span>
                          <span class="mdc-tab__ripple"></span>
                      </button>
                      <button (click)="toggleToggle()"  class="mdc-tab" [class.mdc-tab--active]="toggle === 2"  role="tab" aria-selected="false" tabindex="-1">
                          <span class="mdc-tab__content">
                              <span class="mdc-tab__text-label">Debtors Comments</span>
                          </span>
                          <span class="mdc-tab-indicator" [class.mdc-tab-indicator--active]="toggle === 2">
                              <span class="mdc-tab-indicator__content mdc-tab-indicator__content--underline"></span>
                          </span>
                          <span class="mdc-tab__ripple"></span>
                      </button>
                  </div>
              </div>
          </div>
      </div>
  </div>
  <div class="col-8"></div>
  <div class="col-12">
    <div class="mdc-card mb-3" style="overflow: hidden;">
      <div id="card-header" class="d-flex tgt-bg px-4 py-3 align-items-center">
        <h3 class="m-0 text-white flex-fill align-items-center">
          Comments Overview
          <img *ngIf="loading" width="23px" src="/assets/icons/rolling_white.svg" alt="Rolling White">
        </h3>
        <div>
          <button (click)="exportCSV()" class="tgt-button-full tgt-btn-white h-100 px-3 py-2 my-1 mr-3">
            Export
          </button>
          <button (click)="get()" class="tgt-button-full tgt-btn-white h-100 px-3 py-2 my-1 mr-3">
            Refresh List
          </button>
          <form (ngSubmit)="searchByUser()" [formGroup]="filterForm" class="form-inline float-right m-1">
            <select formControlName="user" class="form-control p-3 mr-2" name="user" id="user">
              <option value="" selected disabled>Select a user</option>
              <option *ngFor="let user of users | async as user" [value]="user.sales_id">{{user.sales_rep}}</option>
            </select>
            <button type="submit" class="tgt-button-full tgt-btn-white">
              <i class="material-icons" style="line-height: 24px;margin-top: 3px;">search</i>
            </button>
          </form>
        </div>
      </div>
      <table cdk-table [dataSource]="dataSource$" [trackBy]="trackByFn" class="table table-hover table-bordered tgt-table tgt-scroll">
          <tr cdk-header-row *cdkHeaderRowDef="columns"></tr>
          <tr cdk-row *cdkRowDef="let row; columns: columns"></tr>

          <ng-container cdkColumnDef="cd_id">
            <th cdk-header-cell *cdkHeaderCellDef style="width: 5%;">#</th>
            <td cdk-cell *cdkCellDef="let row" class="font-weight-bold" style="width: 5%;">
              {{row.cd_id}}
            </td>
          </ng-container>
          <ng-container cdkColumnDef="date">
            <th cdk-header-cell *cdkHeaderCellDef style="width: 10%;">Date</th>
            <td cdk-cell *cdkCellDef="let row" style="width: 10%;">
              {{row.date2 | date:'dd-MM-yyyy H:mm:ss'}}
            </td>
          </ng-container>
          <ng-container cdkColumnDef="customer">
            <th cdk-header-cell *cdkHeaderCellDef style="width: 25%;">Customer Name</th>
            <td [routerLink]="['/customers/' + row.cust_id ]" cdk-cell *cdkCellDef="let row" class="font-weight-bold point" style="width: 25%;">
              {{row.company_name}}
            </td>
          </ng-container>
          <ng-container cdkColumnDef="comment">
            <th cdk-header-cell *cdkHeaderCellDef style="width: 50%;">Comment</th>
            <td cdk-cell *cdkCellDef="let row" style="width: 50%;">
              {{row.comment}}
            </td>
          </ng-container>
          <ng-container cdkColumnDef="sales_rep">
            <th cdk-header-cell *cdkHeaderCellDef style="width: 10%;">Agent</th>
            <td cdk-cell *cdkCellDef="let row" style="width: 10%;">
              {{row.sales_rep}}
            </td>
          </ng-container>
      </table>
    </div>
  </div>
</div>
